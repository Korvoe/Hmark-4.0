commit efb21a54f19d6f64f3272df5d3048bd68360dcea
Author:     Jeff Grafton <jgrafton@google.com>
AuthorDate: Fri Dec 14 16:35:18 2018 -0800
Commit:     Jeff Grafton <jgrafton@google.com>
CommitDate: Sat Dec 15 12:48:03 2018 -0800

    Bump golang to 1.10.7 (CVE-2018-16875)

diff --git a/build/build-image/cross/Dockerfile b/build/build-image/cross/Dockerfile
index ac38a5432d8..28808cde57d 100644
--- a/build/build-image/cross/Dockerfile
+++ b/build/build-image/cross/Dockerfile
@@ -15,7 +15,7 @@
 # This file creates a standard build environment for building cross
 # platform go binary for the architecture kubernetes cares about.
 
-FROM golang:1.10.3
+FROM golang:1.10.7
 
 ENV GOARM 7
 ENV KUBE_DYNAMIC_CROSSPLATFORMS \
@@ -54,7 +54,7 @@ RUN mkdir -p /usr/local/src/protobuf \
 # Use dynamic cgo linking for architectures other than amd64 for the server platforms
 # To install crossbuild essential for other architectures add the following repository.
 RUN echo "deb http://archive.ubuntu.com/ubuntu xenial main universe" > /etc/apt/sources.list.d/cgocrosscompiling.list \
-  && apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 40976EAF437D05B5 3B4FE6ACC0B21F32 \
+  && apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv-keys 40976EAF437D05B5 3B4FE6ACC0B21F32 \
   && apt-get update \
   && apt-get install -y build-essential \
   && for platform in ${KUBE_DYNAMIC_CROSSPLATFORMS}; do apt-get install -y crossbuild-essential-${platform}; done \
diff --git a/build/build-image/cross/VERSION b/build/build-image/cross/VERSION
index e5b42437098..b69e4fdb006 100644
--- a/build/build-image/cross/VERSION
+++ b/build/build-image/cross/VERSION
@@ -1 +1 @@
-v1.10.3-1
+v1.10.7-1
diff --git a/build/root/WORKSPACE b/build/root/WORKSPACE
index 6e66edeffe9..7796bf6e9ff 100644
--- a/build/root/WORKSPACE
+++ b/build/root/WORKSPACE
@@ -47,8 +47,27 @@ load("@io_bazel_rules_docker//docker:docker.bzl", "docker_pull", "docker_reposit
 
 go_rules_dependencies()
 
+# The version of rules_go we're using here is no longer supported, so
+# we must manually download a newer version of the go sdk.
+go_download_sdk(
+    name = "go_sdk",
+    sdks = {
+        "darwin_amd64": ("go1.10.7.darwin-amd64.tar.gz", "700725a36d29d6e5d474a887acbf490c3d2762d719bdfef8370e22198077297d"),
+        "freebsd_386": ("go1.10.7.freebsd-386.tar.gz", "d45bd54c38169ba228a67a17c92560e5a455405f6f5116a030c512510b06987c"),
+        "freebsd_amd64": ("go1.10.7.freebsd-amd64.tar.gz", "21c9bda5fa37d668348e65b2374de6da84c85d601e45bbba4d8e2c86450f2a95"),
+        "linux_386": ("go1.10.7.linux-386.tar.gz", "55cd25e550cb8ce8250dbc9eda56b9c10b3097c7f6beed45066fbaaf8c6c1ebd"),
+        "linux_amd64": ("go1.10.7.linux-amd64.tar.gz", "1aabe10919048822f3bb1865f7a22f8b78387a12c03cd573101594bc8fb33579"),
+        "linux_arm64": ("go1.10.7.linux-arm64.tar.gz", "cb5a274f7c8f6186957e4503e724dda8aeffe84b76a146748c55ea5bb22d9ae4"),
+        "linux_arm": ("go1.10.7.linux-armv6l.tar.gz", "1f81c995f829c8fc7def4d0cc1bde63cac1834386e6f650f2cd7be56ab5e8b98"),
+        "linux_ppc64le": ("go1.10.7.linux-ppc64le.tar.gz", "11279ffebfcfa875b0552839d428cc72e2056e68681286429b57173c0da91fb4"),
+        "linux_s390x": ("go1.10.7.linux-s390x.tar.gz", "e0d7802029ed8d2720a2b27ec1816e71cb29f818380abb8b449080e97547881e"),
+        "windows_386": ("go1.10.7.windows-386.zip", "bbd297a456aded5dcafe91194aafec883802cd0982120c735d15a39810248ea7"),
+        "windows_amd64": ("go1.10.7.windows-amd64.zip", "791e2d5a409932157ac87f4da7fa22d5e5468b784d5933121e4a747d89639e15"),
+    },
+)
+
 go_register_toolchains(
-    go_version = "1.10.3",
+    go_version = "overridden by go_download_sdk",
 )
 
 docker_repositories()
diff --git a/test/images/Makefile b/test/images/Makefile
index 47c9d46ad20..cb359df4f28 100644
--- a/test/images/Makefile
+++ b/test/images/Makefile
@@ -17,7 +17,7 @@ include  ../../hack/make-rules/Makefile.manifest
 REGISTRY ?= gcr.io/kubernetes-e2e-test-images
 GOARM=7
 QEMUVERSION=v2.9.1
-GOLANG_VERSION=1.10.3
+GOLANG_VERSION=1.10.7
 export
 
 ifndef WHAT
